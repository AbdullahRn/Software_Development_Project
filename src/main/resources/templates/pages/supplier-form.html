<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">Supplier Form</title>
</head>
<body>

<div th:fragment="content">

    <div class="error-message" th:if="${param.error}" th:text="${param.error}"></div>
    <div class="message" th:if="${param.message}" th:text="${param.message}"></div>

    <div class="supplier-form-page">
        <h2 th:text="${isEditing} ? 'Update Supplier Information' : 'Register New Supplier'">Supplier Form</h2>
        <hr/>

        <form th:action="@{/supplier/save}" method="post">

            <input type="hidden" name="id" th:if="${isEditing}" th:value="${supplier != null ? supplier.id : ''}" />

            <div class="form-group">
                <label for="name">Supplier Name</label>
                <input type="text"
                       id="name"
                       name="name"
                       class="form-control"
                       th:value="${supplier != null ? supplier.name : ''}"
                       placeholder="Enter supplier name"
                       required />
            </div>

            <div class="form-group">
                <label for="contactInfo">Contact Information</label>
                <input type="text"
                       id="contactInfo"
                       name="contactInfo"
                       class="form-control"
                       th:value="${supplier != null ? supplier.contactInfo : ''}"
                       placeholder="Phone number or email"
                       required />
            </div>

            <div class="form-group">
                <label for="address">Business Address</label>
                <textarea id="address"
                          name="address"
                          class="form-control"
                          rows="3"
                          th:text="${supplier != null ? supplier.address : ''}"
                          placeholder="Full office address"
                          required></textarea>
            </div>

            <div class="form-actions">
                <button type="submit"
                        class="btn-save"
                        th:text="${isEditing} ? 'Update Supplier' : 'Save Supplier'">
                    Save
                </button>
                <a th:href="@{/supplier}" class="btn-cancel">Cancel</a>
            </div>
        </form>
    </div>

    <script>
        setTimeout(() => {
            const msg = document.querySelector(".message");
            const err = document.querySelector(".error-message");
            if (msg) msg.style.display = "none";
            if (err) err.style.display = "none";
        }, 5000);
    </script>

</div>

</body>
</html>